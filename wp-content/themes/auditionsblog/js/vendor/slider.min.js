! function(t) {
    t.fn.accessNews = function(e) {
        var n = {
            title: "",
            subtitle: " ",
            slideBy: 4,
            speed: "normal",
            slideShowInterval: 5e3,
            slideShowDelay: 5e3,
            theme: "default",
            continuousPaging: !0,
            contentTitle: "h3",
            contentSubTitle: "abbr",
            contentDescription: "p",
            onLoad: null,
            onComplete: null
        };
        return this.each(function() {
            e = jQuery.extend(n, e);
            var i, a, s, r = jQuery(this),
                o = r.children(),
                l = {
                    _wrapper: '<div class="jqans-wrapper ' + e.theme + '"></div>',
                    _container: '<div class="jqans-container"></div>',
                    _headline: jQuery("<div class='jqans-headline'></div>").html(["<p><strong>", e.title, "</strong> ", e.subtitle, "</p>"].join("")),
                    _content: jQuery("<div class='jqans-content'></div>"),
                    _stories: '<div class="jqans-stories"></div>',
                    _first: jQuery(o[0]),
                    init: function() {
                        e.onLoad && e.onLoad.call(t(this)), r.wrap(this._wrapper), r.before(this._container);
                        var n = o.length * this._first.outerWidth(!0);
                        r.css("width", n), e.title.length && this.append(this._headline), this.append(this._content), this.selector(n), this.set(0), d.init(), c.init(), r.wrap(this._stories), e.onComplete && e.onComplete.call(t(this))
                    },
                    selector: function(t) {
                        for (var e = "", n = 1; n <= o.length; n++) e += "<li><div/></li>";
                        var i = jQuery('<div class="jqans-stories-selector"></div>');
                        i.append("<ul>" + e + "</ul>"), a = jQuery(i.find("ul")), s = a.children(), i.css("width", t), r.before(i)
                    },
                    append: function(t) {
                        this.get().append(t)
                    },
                    get: function() {
                        return r.parents("div.jqans-wrapper").find("div.jqans-container")
                    },
                    set: function(t) {
                        var n = this.get(),
                            i = jQuery(o[t]),
                            a = jQuery(s[t]),
                            r = jQuery("div.jqans-content", n),
                            l = jQuery("<a><img></img></a>"),
                            d = jQuery("<div></div>"),
                            c = jQuery(e.contentTitle + " a", i).attr("title") || jQuery(e.contentTitle, i).text(),
                            h = $("<h1></h1>"),
                            u = $("<a></a>");
                        l.find("img").attr("src", jQuery("img", i).attr("longdesc") || jQuery("img", i).attr("src")), r.empty(), r.append(l), r.append(d), o.removeClass("selected"), i.addClass("selected"), u.append(c), u.attr("href", jQuery("ul#newsslider li.selected").find("a").attr("href")), h.append(u), d.html("<p>" + jQuery(e.contentDescription, i).html() + "</p>"), d.prepend(h), s.removeClass("selected"), a.addClass("selected"), l.attr("href", jQuery("ul#newsslider li.selected").find("a").attr("href")), console.log(h)
                    }
                },
                d = {
                    loaded: !1,
                    _animating: !1,
                    _totalPages: 0,
                    _currentPage: 1,
                    _storyWidth: 0,
                    _slideByWidth: 0,
                    init: function() {
                        o.length > e.slideBy && (this._totalPages = Math.ceil(o.length / e.slideBy), this._storyWidth = jQuery(o[0]).outerWidth(!0), this._slideByWidth = this._storyWidth * e.slideBy, this.draw(), this.loaded = !0)
                    },
                    draw: function() {
                        var t = jQuery('<div class="jqans-pagination"></div>').html(['<div class="jqans-pagination-count"><span class="jqans-pagination-count-start">1</span> - <span class="jqans-pagination-count-end">', e.slideBy, '</span> of <span class="jqans-pagination-count-total">', o.length, '</span> total</div><div class="jqans-pagination-controls"><span class="jqans-pagination-controls-back"><a href="#" title="Back">&lt;&lt; Back</a></span><span class="jqans-pagination-controls-next"><a href="#" title="Next">Next &gt;&gt;</a></span></div>'].join(""));
                        r.after(t);
                        var n = jQuery(".jqans-pagination-controls-next > a", t),
                            i = jQuery(".jqans-pagination-controls-back > a", t);
                        n.click(function() {
                            var t = d._currentPage + 1;
                            return d.to(t), !1
                        }), i.click(function() {
                            var t = d._currentPage - 1;
                            return d.to(t), !1
                        })
                    },
                    to: function(t) {
                        if (!this._animating) {
                            this._animating = !0;
                            var n = r.parent("div").next(".jqans-pagination"),
                                i = jQuery(".jqans-pagination-count-start", n),
                                s = jQuery(".jqans-pagination-count-end", n);
                            t > this._totalPages && (t = e.continuousPaging ? 1 : this._totalPages), 1 > t && (t = e.continuousPaging ? this._totalPages : 1);
                            var d = t * e.slideBy - e.slideBy,
                                c = t * e.slideBy;
                            c > o.length && (c = o.length);
                            var h = parseInt(r.css("left")),
                                u = t * this._slideByWidth - this._slideByWidth;
                            i.html(d + 1), s.html(c), h = -1 * u, r.animate({
                                left: h
                            }, e.speed), a.animate({
                                left: h
                            }, e.speed), l.set(d), this._currentPage = t, this._animating = !1
                        }
                    }
                },
                c = {
                    init: function() {
                        this.attach(), this.off(), i = setTimeout(function() {
                            c.on()
                        }, e.slideShowDelay)
                    },
                    on: function() {
                        this.off(), i = setInterval(function() {
                            c.slide()
                        }, e.slideShowInterval)
                    },
                    off: function() {
                        clearInterval(i)
                    },
                    slide: function() {
                        var t = jQuery("li.selected", r),
                            n = t.next("li"),
                            i = 0;
                        n.length || (n = jQuery(o[0]), i = 1);
                        var a = o.index(n);
                        if (d.loaded) {
                            var s = a % e.slideBy;
                            0 === s && (i = Math.ceil(a / e.slideBy) + 1), i > 0 && d.to(i)
                        }
                        l.set(a)
                    },
                    attach: function() {
                        var t = jQuery(r).parent("div.jqans-wrapper");
                        t.hover(function() {
                            c.off()
                        }, function() {
                            c.on()
                        })
                    }
                };
            l.init(), o.hover(function() {
                l.set(o.index(this))
            }, function() {})
        })
    }
}(jQuery);